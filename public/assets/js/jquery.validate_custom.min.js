jQuery.validator.addMethod("rule_password", function(value, element) {
	return this.optional(element) || /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@#$%^&*!])[A-Za-z\d@#$%^&*!]{8,}$/.test(value);
}, 	"Your password must be at least 8 characters long, should contain at-least 1 Uppercase, 1 Lowercase, 1 Numeric and 1 special character.");



  // Same as url, but TLD is optional
jQuery.validator.addMethod("url", function( value, element ) {
	return this.optional( element ) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test( value );
}, jQuery.validator.messages.url );

// Older "accept" file extension method. Old docs: http://docs.jquery.com/Plugins/Validation/Methods/accept
jQuery.validator.addMethod( "extension", function( value, element, param ) {
	param = typeof param === "string" ? param.replace( /,/g, "|" ) : "png|jpe?g|gif";
	return this.optional( element ) || value.match( new RegExp( "\\.(" + param + ")$", "i" ) );
}, $.validator.format( "Please select an image format such as jpg, jpeg, png." ) );

$.validator.addMethod("filesize", function (value, element, param) {
    return this.optional(element) || (element.files[0].size < (1024 * 1024 * param))
}, 'Image size exceeds {0} MB. Please select a smaller Image.');


$.validator.addMethod("fileSizeVideo", function (value, element, param) {
    return this.optional(element) || (element.files[0].size < (1024 * 1024 * param))
}, 'Video size exceeds {0} MB. Please select a smaller Video.');

jQuery.validator.addMethod( "extensionVideo", function( value, element, param ) {
	param = typeof param === "string" ? param.replace( /,/g, "|" ) : param;
	return this.optional( element ) || value.match( new RegExp( "\\.(" + param + ")$", "i" ) );
}, $.validator.format( "Please select valid video format such as {0}." ) );


$.validator.addMethod("fileSizeAudio", function (value, element, param) {
    return this.optional(element) || (element.files[0].size < (1024 * 1024 * param))
}, 'Audio size exceeds {0} MB. Please select a smaller Audio.');

jQuery.validator.addMethod( "extensionAudio", function( value, element, param ) {
	param = typeof param === "string" ? param.replace( /,/g, "|" ) : param;
	return this.optional( element ) || value.match( new RegExp( "\\.(" + param + ")$", "i" ) );
}, $.validator.format( "Please select valid audio format such as {0}." ) );

function checkImage(type){
	if(type){
		formReference.element('#imageInput');
	}else{
		$('#imageInput').val('');
		$('.image-preview').hide();
	}
    if($("#imageInput-error").html() == "" || $("#imageInput-error").html() == undefined){
		const file = document.getElementById("imageInput").files[0];
		if (file) {
			$('.image-preview').show();
			// Read the file as a data URL
			const reader = new FileReader();
			reader.onload = function (e) {
				// Set the source of the image preview
				document.getElementById('image-preview').src = e.target.result;
			};
			reader.readAsDataURL(file);
		}
	} else {
		$('#imageInput').val('');
		$('.image-preview').hide();
	}
}

function checkImageFav(type){
	if(type){
		formReference.element('#imageInputFav');
	}else{
		$('#imageInputFav').val('');
		$('.image-preview-fav').hide();
	}
    if($("#imageInput-error").html() == "" || $("#imageInput-error").html() == undefined){
		const file = document.getElementById("imageInputFav").files[0];
		if (file) {
			$('.image-preview-fav').show();
			// Read the file as a data URL
			const reader = new FileReader();
			reader.onload = function (e) {
				// Set the source of the image preview
				document.getElementById('image-preview-fav').src = e.target.result;
			};
			reader.readAsDataURL(file);
		}
	} else {
		$('#imageInputFav').val('');
		$('.image-preview-fav').hide();
	}
}

jQuery.validator.addMethod("validName", function(value, element) {
    // Check if the input contains only letters and is not like "23@#"
    var validRegex = /^[a-zA-Z\s]*$/;

    // Check if the input is not empty
    var notEmpty = $.trim(value).length > 0;

    return notEmpty && validRegex.test(value);
}, "Only alphabetic characters & whitespace are allowed.");


jQuery.validator.addMethod("nonZeroPhoneNumber", function(value, element) {
    // Check if the value is not all zeros
    return /\b(?:0*[1-9][0-9]*)\b/.test(value);
}, "Phone number cannot consist of all zero values.");

jQuery.validator.addMethod("notNumber", function(value, element, param) {
	value = Number(trim(value));
    if(value == 0){
        return false;
    }
    if(isNaN(value)){
        return true;
    }else{
        return false;
    }
}, "White space and Only Number is not permitted.");

// Custom method to check for and remove any whitespace
jQuery.validator.addMethod("noWhitespace", function(value, element) {
    // Remove all whitespace from the input value
    value = value.replace(/\s+/g, '');

    // Update the input field with the cleaned value (without whitespace)
    $(element).val(value);

    // Return true if there are no whitespaces left
    return this.optional(element) || value.length > 0;
}, "Whitespace is not allowed.");


jQuery.validator.addMethod("emailPattern", function(value, element, param) {
    // Define the email pattern
    var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

    // Test the value against the pattern
    return this.optional(element) || emailPattern.test(value);

}, "Invalid email address.");


jQuery.validator.addMethod("onlyInteger", function(value, element, param) {
		   var result = (value - Math.floor(value)) !== 0;

	    if (result){
			return false;
		}else{
			return true;
		}
}, "Only Whole number is allowed.");


$.validator.addMethod( "integer", function( value, element ) {
	return this.optional( element ) || /^-?\d+$/.test( value );
}, "Please enter non-decimal number." );

$.validator.addMethod("positive_float", function(value, element) {
    return this.optional(element) || /^\d+(\.\d+)?$/.test(value);
}, "Please enter a positive floating-point number.");

$(function() {
    $(".clearValidation input, .clearValidation select").on("propertychange change keyup paste input", function(){
		$(this).parent().find('.invalid-feedback').attr('style','display:none !important');
	});
});

$(function() {
    $(".clearValidation2 input, .clearValidation2 select").on("propertychange change keyup paste input", function(){
		$(this).parent().parent().parent().find('.invalid-feedback').attr('style','display:none !important');
	});
});

$(function() {
    $(".clearValidation3 input, .clearValidation3 select").on("propertychange change keyup paste input", function(){

		$(this).closest('.form-group').find('.help-inline').attr('style','display:none !important');
	});
});


jQuery.validator.setDefaults({
  	errorClass: "help-inline",
	errorElement: "span",
	highlight: function(element, errorClass, validClass) {
		$(element).parents('.form-group').addClass('error');
		//$('.invalid-feedback').hide();
	},
	unhighlight: function(element, errorClass, validClass) {
		$(element).parents('.form-group').removeClass('error');
		$(element).parents('.form-group').addClass('success');
	},
});




  // Helper function to set a cookie
    function setCookie(name, value) {
        document.cookie = name + '=' + value + '; path=/';
    }

    // Helper function to unset a cookie
    function unsetCookie(name) {
        document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';

    }

    // Helper function to get a cookie value
    function getCookie(name) {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i].trim();
            if (cookie.startsWith(name + '=')) {
                return cookie.substring(name.length + 1);
            }
        }
        return null;
    }
